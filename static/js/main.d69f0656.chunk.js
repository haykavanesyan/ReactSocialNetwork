(this.webpackJsonpReactSocialNetwork=this.webpackJsonpReactSocialNetwork||[]).push([[0],{113:function(e,t,n){e.exports={profile:"profile_profile__12aYL"}},114:function(e,t,n){e.exports={profile_nav:"profile_nav_profile_nav__3-kJe"}},115:function(e,t,n){e.exports={posts:"posts_posts__1NqYB"}},117:function(e,t,n){e.exports={friend:"friend_friend__1b4I3",text:"friend_text__2ZENo"}},118:function(e,t,n){e.exports={item:"friender_item__1a0ny"}},119:function(e,t,n){e.exports={error:"login_error__3g-zQ"}},121:function(e,t,n){e.exports=n.p+"static/media/200.1d52ecc1.gif"},124:function(e,t,n){e.exports=n(257)},129:function(e,t,n){},130:function(e,t,n){},249:function(e,t){},256:function(e,t){},257:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),u=n(53),s=n.n(u),l=(n(129),n(130),n(21)),c=n(22),i=n(25),f=n(24),m=n(74),p=n.n(m),d=n(9),b=function(e){return o.a.createElement("div",{className:p.a.head},o.a.createElement("p",null,o.a.createElement(d.b,{to:"/"},"HEAD")),o.a.createElement("div",{className:p.a.login},e.userData.log?o.a.createElement("div",null,e.userData.login," ",o.a.createElement("button",{href:"/login",onClick:e.logoutThunk},"LogOut")):o.a.createElement(d.b,{to:"/login"},"login")))},h=n(10),E=n(32),g=n(4),v=E.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"dfa7ba6d-ffa7-442f-a308-54584e93775b"}}),_=function(){return v.get("auth/me").then((function(e){return e.data}))},O=function(e){return v.put("profile/status",{status:e})},j={id:null,email:null,login:null,log:!1,error:"",resultCode:null},w=function(e){return{type:"ADD_DATA",data:e}},D=function(e){return{type:"LOG",b:e}},k=function(e){Object(i.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.logInThunk()}},{key:"render",value:function(){return o.a.createElement(b,this.props)}}]),n}(o.a.Component),S=Object(h.b)((function(e){return{userData:e.userData}}),{addData:w,log:D,logInThunk:function(){return function(e){_().then((function(t){e(w(t.data)),0===t.resultCode&&e(D(!0))}))}},logoutThunk:function(){return function(e){v.delete("auth/login").then((function(t){0===t.data.resultCode&&(e(w(null)),e(D(!1)))}))}}})(k),T=n(36),N=n.n(T),P=function(){return o.a.createElement("div",{className:N.a.nav},o.a.createElement(d.b,{to:"/profile"},o.a.createElement("div",{className:N.a.item},"Profile")),o.a.createElement("div",{className:N.a.item},"Feeds"),o.a.createElement(d.b,{to:"/messages"},o.a.createElement("div",{className:N.a.item},"Messages")),o.a.createElement(d.b,{to:"/users"},o.a.createElement("div",{className:N.a.item},"Find Users")))},y=n(113),I=n.n(y),A=n(30),x=n.n(A),C=function(e){Object(i.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={bool:!0,value:e.props.status},e.change=function(t){O(t.target.value),e.setState({value:t.target.value})},e.activateMode=function(){e.setState({bool:!0})},e.disableMode=function(){e.setState({bool:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:x.a.statusDiv},this.state.bool?o.a.createElement("span",{className:x.a.status,onClick:this.props.userData.id===this.props.profileInfo.userId?this.disableMode:null}," ",this.props.status," "):o.a.createElement("input",{onBlur:this.activateMode,value:this.state.value,onChange:this.change}))}}]),n}(o.a.Component),L=n(54),M=n.n(L),U=function(e){return e.profileInfo?o.a.createElement("div",{className:x.a.profile_head},o.a.createElement("div",{className:x.a.profilePicture},o.a.createElement("img",{src:e.profileInfo.photos.large?e.profileInfo.photos.large:M.a}),o.a.createElement("div",{className:x.a.name},o.a.createElement("span",null,e.profileInfo.fullName))),o.a.createElement(C,{userData:e.userData,status:e.status,profileInfo:e.profileInfo})):o.a.createElement("div",null)},F=n(114),R=n.n(F),G=function(){return o.a.createElement("div",{className:R.a.profile_nav})},V=n(78),W=n.n(V),B=n(115),H=n.n(B),Y=function(e){return o.a.createElement("div",{className:H.a.posts},e.post,o.a.createElement("p",null," Likes: ",e.like," "))},J=n(259),X=n(258),z=Object(X.a)({form:"AddNewPost"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(J.a,{component:"input",name:"new_post"}),o.a.createElement("div",{className:W.a.button},o.a.createElement("button",null,"Post")))})),K=function(e){var t=e.profile.posts.map((function(e){return o.a.createElement(Y,{post:e.post,like:e.like})}));return o.a.createElement("div",{className:W.a.newPost},o.a.createElement("div",null,o.a.createElement(z,{onSubmit:function(t){e.addPost(t.new_post)}})),o.a.createElement("div",null,t))},q=Object(h.b)((function(e){return{profile:e.profile}}),(function(e){return{addPost:function(t){e({type:"ADD_POST",value:t})},textValue:function(t){e({type:"TEXT_VALUES",text:t})}}}))(K),Q=function(e){return o.a.createElement("div",{className:I.a.profile},o.a.createElement(U,{profileInfo:e.profileInfo,userData:e.userData,status:e.status}),o.a.createElement(G,null),o.a.createElement(q,null))},Z=n(7),$=n(8),ee=n(29),te={posts:[],textValue:"",profileInfo:null,status:""},ne=function(e){return function(t){return t.log?o.a.createElement(e,t):o.a.createElement($.a,{to:"/login"})}},ae=function(e){Object(i.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e=e?this.props.match.params.userId:this.props.userData.id,this.props.profileInformationThunk(e),this.props.getStatusThunk(e)}},{key:"render",value:function(){return o.a.createElement(Q,this.props)}}]),n}(o.a.Component),re=Object(Z.d)(Object(h.b)((function(e){return{profileInfo:e.profile.profileInfo,status:e.profile.status,log:e.userData.log,userData:e.userData}}),{profileInformationThunk:function(e){return function(t){(function(e){return v.get("profile/".concat(e)).then((function(e){return e.data}))})(e).then((function(e){return t({type:"SET_USERS_PROFILE",info:e})}))}},getStatusThunk:function(e){return function(t){(function(e){return v.get("profile/status/".concat(e))})(e).then((function(e){t({type:"SET_STATUS",status:e.data})}))}}}),$.f,ne)(ae),oe=n(117),ue=n.n(oe),se=(n(118),function(e){return o.a.createElement("div",{className:ue.a.friend})}),le=n(37),ce=n.n(le),ie=function(e){return o.a.createElement("div",null,o.a.createElement(d.b,{to:"/messages/"+e.name}," ",e.name," "))},fe=function(e){return o.a.createElement("div",null,e.message)},me=(n(249),n(123)),pe=n(119),de=n.n(pe),be=function(e){return function(t){var n=t.input,a=t.meta,r=Object(me.a)(t,["input","meta"]),u=a.touched&&a.error;return o.a.createElement("div",null,o.a.createElement(e,Object.assign({className:u?de.a.error:""},n,r)))}},he=be("input"),Ee=be("textarea"),ge=Object(X.a)({form:"AddNewMessage"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(J.a,{component:Ee,name:"new_message",placeholder:"Write your message"}),o.a.createElement("div",{className:ce.a.button},o.a.createElement("button",null,"Senc")))})),ve=function(e){var t=e.messages.friendsData.map((function(e){return o.a.createElement(ie,{name:e.name})})),n=e.messages.chatData.map((function(e){return o.a.createElement(fe,{message:e.message})}));return o.a.createElement("div",{className:ce.a.messages},o.a.createElement("div",{className:ce.a.friends},t),o.a.createElement("div",{className:ce.a.chat},o.a.createElement("div",null,n),o.a.createElement("div",{className:ce.a.send},o.a.createElement(ge,{onSubmit:function(t){e.addMessage(t.new_message)}}))))},_e=Object(Z.d)(Object(h.b)((function(e){return{messages:e.messages,log:e.userData.log}}),(function(e){return{addMessage:function(t){e({type:"ADD_MESSAGE",value:t})},messageValue:function(t){e({type:"MESSAGE_VALUE",text:t})}}})),ne)(ve),Oe=n(44),je=n.n(Oe),we=function(e){return o.a.createElement("div",null,e.users.map((function(t){return o.a.createElement("div",{className:je.a.block},o.a.createElement(d.b,{to:"/profile/"+t.id},o.a.createElement("div",{className:je.a.ava},o.a.createElement("img",{src:t.photos.large?t.photos.large:M.a}))),o.a.createElement("div",null,t.name),o.a.createElement("div",null,t.country),o.a.createElement("div",null,o.a.createElement("button",{disabled:e.buttonDisable.some((function(e){return e===t.id})),onClick:t.followed?function(){e.unFollowThunk(t.id)}:function(){e.FollowThunk(t.id)}},t.followed?"unfollow":"follow")))})))},De=n(120),ke=n.n(De),Se=(n(252),n(121)),Te=n.n(Se),Ne={users:[],activePage:1,wait:!1,buttonDisable:[]},Pe=function(e){return{type:"FOLLOW",id:e}},ye=function(e){return{type:"UNFOLLOW",id:e}},Ie=function(e){return{type:"SET_USERS",users:e}},Ae=function(e){return{type:"WAIT",b:e}},xe=function(e,t){return{type:"BUTTON_DISABLE",d:e,userId:t}},Ce=function(e){Object(i.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).pageChanger=function(e){a.props.getUsersThunk(e),a.setState({activePage:e})},a.state={activePage:1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:je.a.pagination},o.a.createElement(ke.a,{hideFirstLastPages:!0,activePage:this.state.activePage,totalItemsCount:5e3,itemsCountPerPage:20,pageRangeDisplayed:10,onChange:this.pageChanger,prevPageText:"Prev",nextPageText:"Next"})),this.props.wait?o.a.createElement("img",{src:Te.a}):o.a.createElement(we,{users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,button:this.props.button,buttonDisable:this.props.buttonDisable,FollowThunk:this.props.FollowThunk,unFollowThunk:this.props.unFollowThunk}))}}]),n}(o.a.Component),Le=Object(h.b)((function(e){return{users:e.usersPage.users,activePage:e.usersPage.activePage,wait:e.usersPage.wait,buttonDisable:e.usersPage.buttonDisable}}),{getUsersThunk:function(e,t){return function(n){n(Ae(!0)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return v.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}(e,t).then((function(e){n(Ae(!1)),n(Ie(e.items))}))}},follow:Pe,unfollow:ye,setUsers:Ie,pageChanger:function(e){return{type:"CHANGE_PAGE",page:e}},waitChange:Ae,button:xe,FollowThunk:function(e){return function(t){t(xe(!0,e)),function(e){return v.post("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0==n.resultCode&&t(Pe(e))})),t(xe(!1,e))}},unFollowThunk:function(e){return function(t){t(xe(!0,e)),function(e){return v.delete("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0==n.resultCode&&t(ye(e))})),t(xe(!1,e))}}})(Ce),Me=function(e){if(!e)return"fail"},Ue=Object(h.b)((function(e){return{log:e.userData.log}}),{loginThunk:function(e,t,n){return function(a){return function(e,t,n){return v.post("auth/login",{email:e,password:t,rememberMe:n})}(e,t,n).then((function(e){0===e.data.resultCode&&_().then((function(e){a(w(e.data)),0===e.resultCode&&a(D(!0))}))}))}}})((function(e){return!0===e.log?o.a.createElement($.a,{to:"/profile"}):o.a.createElement("div",null,o.a.createElement(Re,{onSubmit:function(t){e.loginThunk(t.login,t.password,!0)}}))})),Fe=(a=4,function(e){if(e.length<a)return"please write 8 simbols"}),Re=Object(X.a)({form:"login"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(J.a,{name:"login",component:he,placeholder:"login",validate:[Me]}),o.a.createElement("br",null),o.a.createElement(J.a,{name:"password",component:he,placeholder:"Password",type:"password",validate:[Me,Fe]}),o.a.createElement("br",null),o.a.createElement(J.a,{name:"rememberMe",component:"input",type:"checkbox"}),"Remember Me",o.a.createElement("br",null),o.a.createElement("button",null,"login"),o.a.createElement("br",null))})),Ge=function(e){return o.a.createElement("div",{className:"app"},o.a.createElement(S,null),o.a.createElement(P,null),o.a.createElement("div",{className:"content"},o.a.createElement($.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(re,null)}}),o.a.createElement($.b,{path:"/messages",render:function(){return o.a.createElement(_e,null)}}),o.a.createElement($.b,{path:"/users",render:function(){return o.a.createElement(Le,null)}}),o.a.createElement($.b,{path:"/login",render:function(){return o.a.createElement(Ue,null)}})),o.a.createElement(se,{store:e.store}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(256);var Ve={friendsData:[{name:"David"},{name:"Diana"},{name:"Mko"},{name:"kavij"},{name:"Hayk"},{name:"Levon"}],messageValue:"",chatData:[]},We=n(122),Be=n(260),He=Object(Z.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(g.a)(Object(g.a)({},e),{},{posts:[{post:t.value,like:0}].concat(Object(ee.a)(e.posts))});case"TEXT_VALUES":return Object(g.a)(Object(g.a)({},e),{},{textValue:t.text});case"SET_USERS_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profileInfo:t.info});case"SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(g.a)(Object(g.a)({},e),{},{chatData:[].concat(Object(ee.a)(e.chatData),[{message:t.value}])});case"MESSAGE_VALUE":return Object(g.a)(Object(g.a)({},e),{},{messageValue:t.text});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:Object(ee.a)(t.users)});case"CHANGE_PAGE":return Object(g.a)(Object(g.a)({},e),{},{activePage:t.page});case"WAIT":return Object(g.a)(Object(g.a)({},e),{},{wait:t.b});case"BUTTON_DISABLE":return Object(g.a)(Object(g.a)({},e),{},{wait:t.d,buttonDisable:e.wait?[].concat(Object(ee.a)(e.buttonDisable),[t.userId]):e.buttonDisable.filter((function(e){return e==t.userId}))});default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DATA":return Object(g.a)(Object(g.a)({},e),t.data);case"LOG":return Object(g.a)(Object(g.a)({},e),{},{log:t.b});case"LOGIN":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,resultCode:t.resultCode});default:return e}},form:Be.a}),Ye=Object(Z.e)(He,Object(Z.a)(We.a));window.store=Ye;var Je=Ye,Xe=function(){s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(h.a,{store:Je},o.a.createElement(Ge,null)))),document.getElementById("root"))};Xe(),Je.subscribe(Xe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){e.exports={profile_head:"profile_head_profile_head__1TbLN",profilePicture:"profile_head_profilePicture__33O6L",status:"profile_head_status__21xkM",statusDiv:"profile_head_statusDiv__ly5lX",name:"profile_head_name__34tXr"}},36:function(e,t,n){e.exports={nav:"nav_nav__jF-7_",item:"nav_item__1EvY7"}},37:function(e,t,n){e.exports={messages:"messages_messages__3R9HB",friends:"messages_friends___kkYw",chat:"messages_chat__3DKuC"}},44:function(e,t,n){e.exports={block:"users_block__3-uRW",ava:"users_ava__1644M",disable:"users_disable__2MrTn",pagination:"users_pagination__2zfeH",active:"users_active__1GkPA"}},54:function(e,t,n){e.exports=n.p+"static/media/profile.1871862d.svg"},74:function(e,t,n){e.exports={head:"head_head__nUkF2",login:"head_login__1dcnN"}},78:function(e,t,n){e.exports={newPost:"newPost_newPost__1hmJs",button:"newPost_button__1_mgV"}}},[[124,1,2]]]);
//# sourceMappingURL=main.d69f0656.chunk.js.map