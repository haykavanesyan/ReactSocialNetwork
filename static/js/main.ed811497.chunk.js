(this.webpackJsonpReactSocialNetwork=this.webpackJsonpReactSocialNetwork||[]).push([[0],{117:function(e,t,n){e.exports={profile:"profile_profile__12aYL"}},118:function(e,t,n){e.exports={profile_nav:"profile_nav_profile_nav__3-kJe"}},119:function(e,t,n){e.exports={posts:"posts_posts__1NqYB"}},121:function(e,t,n){e.exports={friend:"friend_friend__1b4I3",text:"friend_text__2ZENo"}},122:function(e,t,n){e.exports={item:"friender_item__1a0ny"}},123:function(e,t,n){e.exports={error:"login_error__3g-zQ"}},127:function(e,t,n){e.exports=n(260)},132:function(e,t,n){},133:function(e,t,n){},252:function(e,t){},259:function(e,t){},260:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),u=n(54),i=n.n(u),s=(n(132),n(21)),c=n(22),l=n(25),m=n(24),f=(n(133),n(77)),p=n.n(f),d=n(10),b=function(e){return o.a.createElement("div",{className:p.a.head},o.a.createElement("p",null,o.a.createElement(d.b,{to:"/"},"HEAD")),o.a.createElement("div",{className:p.a.login},e.userData.log?o.a.createElement("div",null,e.userData.login," ",o.a.createElement("button",{href:"/login",onClick:e.logoutThunk},"LogOut")):o.a.createElement(d.b,{to:"/login"},"login")))},E=n(9),h=n(32),g=n(3),v=h.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"dfa7ba6d-ffa7-442f-a308-54584e93775b"}}),_=function(){return v.get("auth/me").then((function(e){return e.data}))},O={id:null,email:null,login:null,log:!1,error:"",resultCode:null,initialization:!1},j=function(e){return{type:"ADD_DATA",data:e}},w=function(e){return{type:"LOG",b:e}},D=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement(b,this.props)}}]),n}(o.a.Component),k=Object(E.b)((function(e){return{userData:e.userData}}),{addData:j,log:w,logoutThunk:function(){return function(e){v.delete("auth/login").then((function(t){0===t.data.resultCode&&(e(j(null)),e(w(!1)))}))}}})(D),T=n(36),S=n.n(T),N=function(){return o.a.createElement("div",{className:S.a.nav},o.a.createElement(d.b,{to:"/profile"},o.a.createElement("div",{className:S.a.item},"Profile")),o.a.createElement("div",{className:S.a.item},"Feeds"),o.a.createElement(d.b,{to:"/messages"},o.a.createElement("div",{className:S.a.item},"Messages")),o.a.createElement(d.b,{to:"/users"},o.a.createElement("div",{className:S.a.item},"Find Users")))},P=n(117),y=n.n(P),I=n(30),A=n.n(I),x=n(84),L=function(e){var t=Object(r.useState)(!0),n=Object(x.a)(t,2),a=n[0],u=n[1],i=Object(r.useState)(e.status),s=Object(x.a)(i,2),c=s[0],l=s[1];return o.a.createElement("div",{className:A.a.statusDiv},a?o.a.createElement("span",{className:A.a.status,onClick:e.userData.id===e.profileInfo.userId?function(){u(!1)}:null}," ",c.length>0?c:e.status," "):o.a.createElement("input",{onBlur:function(){u(!0)},value:c.length>0?c:e.status,onChange:function(e){var t;t=e.target.value,v.put("profile/status",{status:t}),l(e.target.value)}}))},C=n(56),U=n.n(C),F=function(e){return e.profileInfo?o.a.createElement("div",{className:A.a.profile_head},o.a.createElement("div",{className:A.a.profilePicture},o.a.createElement("img",{src:e.profileInfo.photos.large?e.profileInfo.photos.large:U.a}),o.a.createElement("div",{className:A.a.name},o.a.createElement("span",null,e.profileInfo.fullName))),o.a.createElement(L,{userData:e.userData,status:e.status,profileInfo:e.profileInfo})):o.a.createElement("div",null)},M=n(118),R=n.n(M),G=function(){return o.a.createElement("div",{className:R.a.profile_nav})},V=n(81),W=n.n(V),z=n(119),B=n.n(z),H=function(e){return o.a.createElement("div",{className:B.a.posts},e.post,o.a.createElement("p",null," Likes: ",e.like," "))},Y=n(262),J=n(261),X=Object(J.a)({form:"AddNewPost"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Y.a,{component:"input",name:"new_post"}),o.a.createElement("div",{className:W.a.button},o.a.createElement("button",null,"Post")))})),K=function(e){var t=e.profile.posts.map((function(e){return o.a.createElement(H,{post:e.post,like:e.like})}));return o.a.createElement("div",{className:W.a.newPost},o.a.createElement("div",null,o.a.createElement(X,{onSubmit:function(t){e.addPost(t.new_post)}})),o.a.createElement("div",null,t))},q=Object(E.b)((function(e){return{profile:e.profile}}),(function(e){return{addPost:function(t){e({type:"ADD_POST",value:t})},textValue:function(t){e({type:"TEXT_VALUES",text:t})}}}))(K),Q=function(e){return o.a.createElement("div",{className:y.a.profile},o.a.createElement(F,{profileInfo:e.profileInfo,userData:e.userData,status:e.status}),o.a.createElement(G,null),o.a.createElement(q,null))},Z=n(7),$=n(8),ee=n(29),te={posts:[],textValue:"",profileInfo:null,status:""},ne=function(e){return function(t){return t.log?o.a.createElement(e,t):o.a.createElement($.a,{to:"/login"})}},ae=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e=e?this.props.match.params.userId:this.props.userData.id,this.props.profileInformationThunk(e),this.props.getStatusThunk(e)}},{key:"render",value:function(){return o.a.createElement(Q,this.props)}}]),n}(o.a.Component),re=Object(Z.d)(Object(E.b)((function(e){return{profileInfo:e.profile.profileInfo,status:e.profile.status,log:e.userData.log,userData:e.userData}}),{profileInformationThunk:function(e){return function(t){(function(e){return v.get("profile/".concat(e)).then((function(e){return e.data}))})(e).then((function(e){return t({type:"SET_USERS_PROFILE",info:e})}))}},getStatusThunk:function(e){return function(t){(function(e){return v.get("profile/status/".concat(e))})(e).then((function(e){t({type:"SET_STATUS",status:e.data})}))}}}),$.f,ne)(ae),oe=n(121),ue=n.n(oe),ie=(n(122),function(e){return o.a.createElement("div",{className:ue.a.friend})}),se=n(37),ce=n.n(se),le=function(e){return o.a.createElement("div",null,o.a.createElement(d.b,{to:"/messages/"+e.name}," ",e.name," "))},me=function(e){return o.a.createElement("div",null,e.message)},fe=(n(252),n(126)),pe=n(123),de=n.n(pe),be=function(e){return function(t){var n=t.input,a=t.meta,r=Object(fe.a)(t,["input","meta"]),u=a.touched&&a.error;return o.a.createElement("div",null,o.a.createElement(e,Object.assign({className:u?de.a.error:""},n,r)))}},Ee=be("input"),he=be("textarea"),ge=Object(J.a)({form:"AddNewMessage"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Y.a,{component:he,name:"new_message",placeholder:"Write your message"}),o.a.createElement("div",{className:ce.a.button},o.a.createElement("button",null,"Senc")))})),ve=function(e){var t=e.messages.friendsData.map((function(e){return o.a.createElement(le,{name:e.name})})),n=e.messages.chatData.map((function(e){return o.a.createElement(me,{message:e.message})}));return o.a.createElement("div",{className:ce.a.messages},o.a.createElement("div",{className:ce.a.friends},t),o.a.createElement("div",{className:ce.a.chat},o.a.createElement("div",null,n),o.a.createElement("div",{className:ce.a.send},o.a.createElement(ge,{onSubmit:function(t){e.addMessage(t.new_message)}}))))},_e=Object(Z.d)(Object(E.b)((function(e){return{messages:e.messages,log:e.userData.log}}),(function(e){return{addMessage:function(t){e({type:"ADD_MESSAGE",value:t})},messageValue:function(t){e({type:"MESSAGE_VALUE",text:t})}}})),ne)(ve),Oe=n(45),je=n.n(Oe),we=function(e){return o.a.createElement("div",null,e.users.map((function(t){return o.a.createElement("div",{className:je.a.block},o.a.createElement(d.b,{to:"/profile/"+t.id},o.a.createElement("div",{className:je.a.ava},o.a.createElement("img",{src:t.photos.large?t.photos.large:U.a}))),o.a.createElement("div",null,t.name),o.a.createElement("div",null,t.country),o.a.createElement("div",null,o.a.createElement("button",{disabled:e.buttonDisable.some((function(e){return e===t.id})),onClick:t.followed?function(){e.unFollowThunk(t.id)}:function(){e.FollowThunk(t.id)}},t.followed?"unfollow":"follow")))})))},De=n(124),ke=n.n(De),Te=(n(255),n(58)),Se=n.n(Te),Ne={users:[],activePage:1,wait:!1,buttonDisable:[]},Pe=function(e){return{type:"FOLLOW",id:e}},ye=function(e){return{type:"UNFOLLOW",id:e}},Ie=function(e){return{type:"SET_USERS",users:e}},Ae=function(e){return{type:"WAIT",b:e}},xe=function(e,t){return{type:"BUTTON_DISABLE",d:e,userId:t}},Le=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).pageChanger=function(e){a.props.getUsersThunk(e),a.setState({activePage:e})},a.state={activePage:1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:je.a.pagination},o.a.createElement(ke.a,{hideFirstLastPages:!0,activePage:this.state.activePage,totalItemsCount:5e3,itemsCountPerPage:20,pageRangeDisplayed:10,onChange:this.pageChanger,prevPageText:"Prev",nextPageText:"Next"})),this.props.wait?o.a.createElement("img",{src:Se.a}):o.a.createElement(we,{users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,button:this.props.button,buttonDisable:this.props.buttonDisable,FollowThunk:this.props.FollowThunk,unFollowThunk:this.props.unFollowThunk}))}}]),n}(o.a.Component),Ce=Object(E.b)((function(e){return{users:e.usersPage.users,activePage:e.usersPage.activePage,wait:e.usersPage.wait,buttonDisable:e.usersPage.buttonDisable}}),{getUsersThunk:function(e,t){return function(n){n(Ae(!0)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return v.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}(e,t).then((function(e){n(Ae(!1)),n(Ie(e.items))}))}},follow:Pe,unfollow:ye,setUsers:Ie,pageChanger:function(e){return{type:"CHANGE_PAGE",page:e}},waitChange:Ae,button:xe,FollowThunk:function(e){return function(t){t(xe(!0,e)),function(e){return v.post("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0==n.resultCode&&t(Pe(e))})),t(xe(!1,e))}},unFollowThunk:function(e){return function(t){t(xe(!0,e)),function(e){return v.delete("follow/".concat(e)).then((function(e){return e.data}))}(e).then((function(n){0==n.resultCode&&t(ye(e))})),t(xe(!1,e))}}})(Le),Ue=function(e){if(!e)return"fail"},Fe=Object(E.b)((function(e){return{log:e.userData.log}}),{loginThunk:function(e,t,n){return function(a){return function(e,t,n){return v.post("auth/login",{email:e,password:t,rememberMe:n})}(e,t,n).then((function(e){0===e.data.resultCode&&_().then((function(e){a(j(e.data)),0===e.resultCode&&a(w(!0))}))}))}}})((function(e){return!0===e.log?o.a.createElement($.a,{to:"/profile"}):o.a.createElement("div",null,o.a.createElement(Re,{onSubmit:function(t){e.loginThunk(t.login,t.password,!0)}}))})),Me=(a=4,function(e){if(e.length<a)return"please write 8 simbols"}),Re=Object(J.a)({form:"login"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement(Y.a,{name:"login",component:Ee,placeholder:"login",validate:[Ue]}),o.a.createElement("br",null),o.a.createElement(Y.a,{name:"password",component:Ee,placeholder:"Password",type:"password",validate:[Ue,Me]}),o.a.createElement("br",null),o.a.createElement(Y.a,{name:"rememberMe",component:"input",type:"checkbox"}),"Remember Me",o.a.createElement("br",null),o.a.createElement("button",null,"login"),o.a.createElement("br",null))})),Ge=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializatingThunk()}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.initialization?o.a.createElement("div",{className:"app"},o.a.createElement(k,null),o.a.createElement(N,null),o.a.createElement("div",{className:"content"},o.a.createElement($.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(re,null)}}),o.a.createElement($.b,{path:"/messages",render:function(){return o.a.createElement(_e,null)}}),o.a.createElement($.b,{path:"/users",render:function(){return o.a.createElement(Ce,null)}}),o.a.createElement($.b,{path:"/login",render:function(){return o.a.createElement(Fe,null)}})),o.a.createElement(ie,null)):o.a.createElement("img",{src:Se.a}))}}]),n}(o.a.Component),Ve=Object(E.b)((function(e){return{initialization:e.userData.initialization}}),{initializatingThunk:function(){return function(e){_().then((function(t){e(j(t.data)),0===t.resultCode&&e(w(!0)),e({type:"INITIAL"})}))}}})(Ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(259);var We={friendsData:[{name:"David"},{name:"Diana"},{name:"Mko"},{name:"kavij"},{name:"Hayk"},{name:"Levon"}],messageValue:"",chatData:[]},ze=n(125),Be=n(263),He=Object(Z.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(g.a)(Object(g.a)({},e),{},{posts:[{post:t.value,like:0}].concat(Object(ee.a)(e.posts))});case"TEXT_VALUES":return Object(g.a)(Object(g.a)({},e),{},{textValue:t.text});case"SET_USERS_PROFILE":return Object(g.a)(Object(g.a)({},e),{},{profileInfo:t.info});case"SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(g.a)(Object(g.a)({},e),{},{chatData:[].concat(Object(ee.a)(e.chatData),[{message:t.value}])});case"MESSAGE_VALUE":return Object(g.a)(Object(g.a)({},e),{},{messageValue:t.text});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(g.a)(Object(g.a)({},e),{},{users:Object(ee.a)(t.users)});case"CHANGE_PAGE":return Object(g.a)(Object(g.a)({},e),{},{activePage:t.page});case"WAIT":return Object(g.a)(Object(g.a)({},e),{},{wait:t.b});case"BUTTON_DISABLE":return Object(g.a)(Object(g.a)({},e),{},{wait:t.d,buttonDisable:e.wait?[].concat(Object(ee.a)(e.buttonDisable),[t.userId]):e.buttonDisable.filter((function(e){return e==t.userId}))});default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DATA":return Object(g.a)(Object(g.a)({},e),t.data);case"LOG":return Object(g.a)(Object(g.a)({},e),{},{log:t.b});case"LOGIN":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,resultCode:t.resultCode});case"INITIAL":return Object(g.a)(Object(g.a)({},e),{},{initialization:!0});default:return e}},form:Be.a}),Ye=Object(Z.e)(He,Object(Z.a)(ze.a));window.store=Ye;var Je=Ye,Xe=function(){i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(E.a,{store:Je},o.a.createElement(Ve,null)))),document.getElementById("root"))};Xe(),Je.subscribe(Xe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){e.exports={profile_head:"profile_head_profile_head__1TbLN",profilePicture:"profile_head_profilePicture__33O6L",status:"profile_head_status__21xkM",statusDiv:"profile_head_statusDiv__ly5lX",name:"profile_head_name__34tXr"}},36:function(e,t,n){e.exports={nav:"nav_nav__jF-7_",item:"nav_item__1EvY7"}},37:function(e,t,n){e.exports={messages:"messages_messages__3R9HB",friends:"messages_friends___kkYw",chat:"messages_chat__3DKuC"}},45:function(e,t,n){e.exports={block:"users_block__3-uRW",ava:"users_ava__1644M",disable:"users_disable__2MrTn",pagination:"users_pagination__2zfeH",active:"users_active__1GkPA"}},56:function(e,t,n){e.exports=n.p+"static/media/profile.1871862d.png"},58:function(e,t,n){e.exports=n.p+"static/media/200.1d52ecc1.gif"},77:function(e,t,n){e.exports={head:"head_head__nUkF2",login:"head_login__1dcnN"}},81:function(e,t,n){e.exports={newPost:"newPost_newPost__1hmJs",button:"newPost_button__1_mgV"}}},[[127,1,2]]]);
//# sourceMappingURL=main.ed811497.chunk.js.map